{"version":3,"sources":["scripts/main.js"],"names":["page","document","documentElement","score","querySelector","best","info","startBtn","startMassage","winMessage","loseMessage","cells","querySelectorAll","scoreValue","bestValue","movingValuePossition","newValuePlace","canMove","fieldLength","values","valuesTocells","row","column","addElement","hasEmptyCell","some","includes","isRowWithSameValue","isColumnWithSameValue","classList","remove","randomNum","Math","random","random2VS4","randomRow","round","randomColumn","i","textContent","add","delayedAddElement","window","setTimeout","addModifier","modifier","removeModifier","allModifier","contains","push","map","updateCurCell","word","adding","updatePrevCell","moveUp","length","prevRow","moveDown","nextRow","moveRight","prevColumn","moveLeft","nextColumn","addEventListener","forEach","cell","e","preventDefault","key"],"mappings":"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","file":"main.62f74cb4.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\n// window variables:\nconst page = document.documentElement;\nconst score = document.querySelector('.game_score');\nconst best = document.querySelector('.game_best');\nconst info = document.querySelector('.info');\nconst startBtn = document.querySelector('.button, .start');\nconst startMassage = document.querySelector('.message_start');\nconst winMessage = document.querySelector('.message_win');\nconst loseMessage = document.querySelector('.message_lose');\nconst cells = document.querySelectorAll('.field_cell');\n\n// JS variables:\nlet scoreValue = 0;\nlet bestValue = 0;\nlet movingValuePossition = null;\nlet newValuePlace = null;\nlet canMove = null;\nconst fieldLength = 3;\n\nlet values = [\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n  [0, 0, 0, 0],\n];\n\n// compile values to cells.\nfunction valuesTocells(row, column = 0) {\n  return cells[(row) * 4 + column];\n}\n\n// adding random element(2/4) on random empty cell if there enought move.\nfunction addElement() {\n  const hasEmptyCell = values.some(row => row.includes(0));\n  let isRowWithSameValue = null;\n  let isColumnWithSameValue = null;\n\n  for (let row = 1; row <= fieldLength; row++) {\n    for (let column = 0; column <= fieldLength; column++) {\n      if (values[row][column] === values[row - 1][column]) {\n        isRowWithSameValue = true;\n      }\n    }\n  }\n\n  for (let row = 0; row <= fieldLength; row++) {\n    for (let column = 1; column <= fieldLength; column++) {\n      if (values[row][column] === values[row][column - 1]) {\n        isColumnWithSameValue = true;\n      }\n    }\n  }\n\n  if (hasEmptyCell\n  || isRowWithSameValue || isColumnWithSameValue) {\n    canMove = true;\n  }\n\n  if (canMove) {\n    let randomNum = Math.random();\n    let random2VS4 = null;\n    let randomRow = Math.round(Math.random() * (3 - 0) + 0);\n    let randomColumn = Math.round(Math.random() * (3 - 0) + 0);\n\n    for (let i = 0; i <= 100; i++) {\n      if (values[randomRow][randomColumn] === 0) {\n        if (randomNum > 0.1) {\n          random2VS4 = 2;\n        } else {\n          random2VS4 = 4;\n        }\n        values[randomRow][randomColumn] = random2VS4;\n        valuesTocells(randomRow, randomColumn).textContent = random2VS4;\n\n        valuesTocells(randomRow, randomColumn)\n          .classList.add(`field_cell--${random2VS4}`);\n        break;\n      } else {\n        randomNum = Math.random();\n        randomRow = Math.round(Math.random() * (3 - 0) + 0);\n        randomColumn = Math.round(Math.random() * (3 - 0) + 0);\n        continue;\n      }\n    }\n  } else {\n    return loseMessage.classList.remove('hidden');\n  }\n\n  canMove = null;\n}\n\nfunction delayedAddElement() {\n  window.setTimeout(addElement, 300);\n  canMove = null;\n}\n\n// addind new modifier to cell.\nfunction addModifier(row, column) {\n  if (values[row][column] > 0) {\n    for (let modifier = 2; modifier <= 2048; modifier *= 2) {\n      if (modifier === values[row][column]) {\n        valuesTocells(row, column)\n          .classList.add(`field_cell--${modifier}`);\n        break;\n      }\n    }\n  }\n\n  return cells;\n}\n\n// remove modifier from cell.\nfunction removeModifier(row, column) {\n  if (values[row][column] > 0) {\n    const allModifier = [];\n\n    for (let modifier = 2; modifier <= 2048; modifier *= 2) {\n      if (valuesTocells(row, column).classList\n        .contains(`field_cell--${modifier}`)) {\n        allModifier.push(`field_cell--${modifier}`);\n      }\n    }\n\n    allModifier.map(modifier => valuesTocells(row, column)\n      .classList.remove(modifier));\n  }\n\n  return cells;\n}\n\n// set new value, modifier for current cell position.\nfunction updateCurCell(word, row, column, adding) {\n  if (adding) {\n    values[row][column] = movingValuePossition + adding;\n    scoreValue += values[row][column];\n    score.textContent = scoreValue;\n\n    if (bestValue < scoreValue) {\n      bestValue = scoreValue;\n    }\n    best.textContent = bestValue;\n\n    if (values[row][column] >= 2048) {\n      winMessage.classList.remove('hidden');\n    }\n  } else {\n    values[row][column] = movingValuePossition;\n  }\n\n  if (word === 'r') {\n    valuesTocells(row, column).textContent = values[newValuePlace][column];\n    addModifier((row), column);\n  } else {\n    valuesTocells(row, column).textContent = values[row][newValuePlace];\n    addModifier((row), column);\n  }\n}\n\n// remove value, modifier from old cell position.\nfunction updatePrevCell(row, column) {\n  removeModifier(row, column);\n  values[row][column] = 0;\n  valuesTocells(row, column).textContent = '';\n}\n\nfunction moveUp() {\n  for (let row = 0; row < values.length; row++) {\n    for (let column = 0; column < values[row].length; column++) {\n      if (values[row][column] !== 0 && row !== 0) {\n        movingValuePossition = values[row][column];\n\n        for (let prevRow = row - 1; prevRow >= 0;) {\n          if (values[prevRow][column] === 0) {\n            if (prevRow !== 0) {\n              prevRow--;\n              continue;\n            } else {\n              newValuePlace = prevRow;\n              canMove = true;\n              updateCurCell('r', newValuePlace, column);\n              updatePrevCell(row, column);\n              break;\n            }\n          } else if (values[prevRow][column] === movingValuePossition) {\n            newValuePlace = prevRow;\n            canMove = true;\n            updateCurCell('r', newValuePlace, column, movingValuePossition);\n            updatePrevCell(row, column);\n            break;\n          } else if (values[prevRow][column] > 0) {\n            newValuePlace = prevRow + 1;\n\n            if (row - prevRow > 1) {\n              canMove = true;\n              updateCurCell('r', newValuePlace, column);\n              updatePrevCell(row, column);\n            }\n            updateCurCell('r', newValuePlace, column);\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  if (canMove) {\n    delayedAddElement();\n  }\n}\n\nfunction moveDown() {\n  for (let row = values.length - 1; row >= 0; row--) {\n    for (let column = 0; column < values.length; column++) {\n      if (values[row][column] !== 0 && row !== 3) {\n        movingValuePossition = values[row][column];\n\n        for (let nextRow = row + 1; nextRow <= values.length;) {\n          if (values[nextRow][column] === 0) {\n            if (nextRow !== 3) {\n              nextRow++;\n              continue;\n            } else {\n              newValuePlace = nextRow;\n              canMove = true;\n              updateCurCell('r', newValuePlace, column);\n              updatePrevCell(row, column);\n              break;\n            }\n          } else if (values[nextRow][column] === movingValuePossition) {\n            newValuePlace = nextRow;\n            canMove = true;\n            updateCurCell('r', newValuePlace, column, movingValuePossition);\n            updatePrevCell(row, column);\n            break;\n          } else if (values[nextRow][column] > 0) {\n            newValuePlace = nextRow - 1;\n\n            if (nextRow - row > 1) {\n              canMove = true;\n              updateCurCell('r', newValuePlace, column);\n              updatePrevCell(row, column);\n            }\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  if (canMove) {\n    delayedAddElement();\n  }\n}\n\nfunction moveRight() {\n  for (let row = 0; row < values.length; row++) {\n    for (let column = values[row].length - 1; column >= 0; column--) {\n      if (values[row][column] !== 0 && column !== 3) {\n        movingValuePossition = values[row][column];\n\n        for (let prevColumn = column + 1; prevColumn <= 3;) {\n          if (values[row][prevColumn] === 0) {\n            if (prevColumn !== 3) {\n              prevColumn++;\n              continue;\n            } else {\n              newValuePlace = prevColumn;\n              canMove = true;\n              updateCurCell('c', row, newValuePlace);\n              updatePrevCell(row, column);\n              break;\n            }\n          } else if (values[row][prevColumn] === movingValuePossition) {\n            newValuePlace = prevColumn;\n            canMove = true;\n            updateCurCell('c', row, newValuePlace, movingValuePossition);\n            updatePrevCell(row, column);\n            break;\n          } else if (values[row][prevColumn] > 0) {\n            newValuePlace = prevColumn - 1;\n\n            if (prevColumn - column > 1) {\n              canMove = true;\n              updateCurCell('c', row, newValuePlace);\n              updatePrevCell(row, column);\n            }\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  if (canMove) {\n    delayedAddElement();\n  }\n}\n\nfunction moveLeft() {\n  for (let row = 0; row < values.length; row++) {\n    for (let column = 0; column < values[row].length; column++) {\n      if (values[row][column] !== 0 && column !== 0) {\n        movingValuePossition = values[row][column];\n\n        for (let nextColumn = column - 1; nextColumn >= 0;) {\n          if (values[row][nextColumn] === 0) {\n            if (nextColumn !== 0) {\n              nextColumn--;\n              continue;\n            } else {\n              newValuePlace = nextColumn;\n              canMove = true;\n              updateCurCell('c', row, newValuePlace);\n              updatePrevCell(row, column);\n              break;\n            }\n          } else if (values[row][nextColumn] === movingValuePossition) {\n            newValuePlace = nextColumn;\n            canMove = true;\n            updateCurCell('c', row, newValuePlace, movingValuePossition);\n            updatePrevCell(row, column);\n            break;\n          } else if (values[row][nextColumn] > 0) {\n            newValuePlace = nextColumn + 1;\n\n            if (column - nextColumn > 1) {\n              canMove = true;\n              updateCurCell('c', row, newValuePlace);\n              updatePrevCell(row, column);\n            }\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  if (canMove) {\n    delayedAddElement();\n  }\n}\n\n// duties of Start/Restart button.\nstartBtn.addEventListener('click', () => {\n  if (startBtn.classList.contains('start')) {\n    startBtn.classList.remove('start');\n    startBtn.classList.add('restart');\n    startBtn.textContent = 'Restart';\n    startMassage.classList.add('hidden');\n    addElement();\n    addElement();\n    info.classList.add('active');\n  } else {\n    startBtn.classList.remove('restart');\n    startBtn.classList.add('start');\n    startBtn.textContent = 'Start';\n    score.textContent = 0;\n    scoreValue = 0;\n    info.classList.remove('active');\n    loseMessage.classList.add('hidden');\n    startMassage.classList.remove('hidden');\n\n    const allModifier = [];\n\n    for (let modifier = 2; modifier <= 2048; modifier *= 2) {\n      allModifier.push(`field_cell--${modifier}`);\n    }\n\n    cells.forEach(cell => {\n      cell.textContent = '';\n      allModifier.map(modifier => cell.classList.remove(modifier));\n\n      return cell;\n    });\n    values = values.map(row => row.map(() => 0));\n  }\n});\n\n// duties of arrows.\npage.addEventListener('keydown', function(e) {\n  e.preventDefault();\n\n  const key = e.key;\n\n  switch (true) {\n    case (key === 'ArrowUp'):\n      moveUp();\n      break;\n    case (key === 'ArrowDown'):\n      moveDown();\n      break;\n    case (key === 'ArrowRight'):\n      moveRight();\n      break;\n    case (key === 'ArrowLeft'):\n      moveLeft();\n      break;\n  }\n});\n"]}